# Parâmetros geométricos do Cylidrone para cinemática Gaia

# MAPEAMENTO DAS RODAS:
# Roda 1 = front_left_steer_joint/front_left_wheel_joint   (superior esquerda:  x=-0.38, y=+0.38)
# Roda 2 = front_right_steer_joint/front_right_wheel_joint (superior direita:  x=+0.38, y=+0.38)
# Roda 3 = rear_right_steer_joint/rear_right_wheel_joint   (inferior direita:  x=+0.38, y=-0.38)
# Roda 4 = rear_left_steer_joint/rear_left_wheel_joint     (inferior esquerda: x=-0.38, y=-0.38)
#
# Modo Differential:
# - Left wheels:  Roda 1 (front_left) + Roda 4 (rear_left)   → índices 1, 7
# - Right wheels: Roda 2 (front_right) + Roda 3 (rear_right) → índices 3, 5

gaia_bridge_node:
  ros__parameters:
    # Modo de controle: 'velocity', 'differential' ou 'shim'
    # - velocity: Cinemática completa omnidirecional (usa robot2Wheels)
    # - differential: Modelo diferencial simplificado (steers fixos)
    # - shim: Controlador com alinhamento de rodas antes de mover
    control_mode: 'velocity'
    
    # Parâmetros geométricos
    wheels_radius: 0.055        # Raio das rodas em metros
    caster_offset: 0.11         # Offset do caster (distância vertical do eixo de direção à roda)
    
    # Posições H (distâncias do centro do robô às rodas)
    # [front_left, front_right, rear_right, rear_left]
    # Calculado: sqrt(0.3818^2 + 0.3818^2) = 0.54
    h_positions: [0.54, 0.54, 0.54, 0.54]
    
    # Ângulos Beta (orientação das rodas em relação ao centro)
    # [front_left, front_right, rear_right, rear_left] em radianos
    # front_left: 135° (π*3/4), front_right: 45° (π/4), 
    # rear_right: -45° (-π/4), rear_left: -135° (-π*3/4)
    beta_angles: [2.35619, 0.785398, -0.785398, -2.35619]
    
    # Taxa de atualização em Hz
    update_rate: 50.0
    
    # Publicar joint_states para visualização no RViz (false para usar joint_state_publisher)
    publish_joint_states: true
